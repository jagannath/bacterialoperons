SELECT c.sequence_id, c.rank, c.left_end, c.right_end, g.group_id, COUNT(*)
FROM
(SELECT group_id, sequence_id
FROM groups
WHERE group_id = 'JEM_7877') g
INNER JOIN coding_sequences c
ON c.sequence_id = g.sequence_id

SELECT ecoli_gene_operonset.operon_name, coding_sequences.sequence_id, coding_sequences.rank, groups.group_id
FROM coding_sequences
INNER JOIN ecoli_gene_operonset
ON coding_sequences.locus_tag = ecoli_gene_operonset.b_number
INNER JOIN groups
ON coding_sequences.sequence_id = groups.sequence_id
WHERE ecoli_gene_operonset.number_genes_operon>1
ORDER BY coding_sequences.rank


SELECT ecoli_gene_operonset.operon_name, c.sequence_id, c.rank, c.gene_id, c.orientation, c.left_end, c.right_end 
FROM 
(SELECT sequence_id, rank, locus_tag, gene_id, orientation, left_end, right_end
FROM coding_sequences
WHERE accession_number = 'NC_000913') c
INNER JOIN ecoli_gene_operonset
ON c.locus_tag = ecoli_gene_operonset.b_number
INTO OUTFILE 'test.txt'

SELECT ecoli_gene_operonset.operon_name, c.sequence_id, c.sequence_length, c.rank, c.gene_id, c.orientation, c.left_end, c.right_end, groups.group_id
FROM 
(SELECT sequence_id, sequence_length, rank, locus_tag, gene_id, orientation, left_end, right_end
FROM coding_sequences
WHERE accession_number = 'NC_000913') c
INNER JOIN ecoli_gene_operonset
ON c.locus_tag = ecoli_gene_operonset.b_number
INNER JOIN groups
ON c.sequence_id = groups.sequence_id

SELECT sequence_id, rank
FROM coding_sequences
WHERE rank = 
(SELECT rank
FROM coding_sequences
WHERE sequence_id = 'NC_000913|b0010')+1 
AND accession_number = 'NC_000913'

SELECT ecoli_gene_operonset.operon_name, c.locus_tag, c.sequence_length, c.rank, c.orientation, c.left_end, c.right_end, g.cluster_accession, g.protein_name
FROM 
(SELECT sequence_id, sequence_length, rank, locus_tag, gene_id, orientation, left_end, right_end
FROM coding_sequences
WHERE accession_number = 'NC_000913') c
INNER JOIN ecoli_gene_operonset
ON c.locus_tag = ecoli_gene_operonset.b_number
INNER JOIN protein_clusters g
ON c.locus_tag = g.locus_tag

SELECT locus_tag, rank, orientation, left_end, right_end, sequence_length, accession_number, taxon_id
FROM coding_sequences;

SELECT coding_sequences.locus_tag, protein_clusters.cluster_accession
FROM coding_sequences
LEFT OUTER JOIN protein_clusters
ON protein_clusters.locus_tag = coding_sequences.locus_tag
WHERE coding_sequences.accession_number = 'NC_000913'
WHERE protein_clusters.cluster_accession = 'PRK13564'

SELECT locus_tag, rank, orientation, left_end, right_end, accession_number
FROM coding_sequences
WHERE accession_number = 'NC_009801' AND rank = 1390

SELECT e.b_number, p.cluster_accession
FROM ecoli_gene_operonset e
INNER JOIN protein_clusters p
WHERE e.b_number = p.locus_tag
AND e.number_genes_operon > 1

SELECT COUNT(*)
FROM ecogene_data c
INNER JOIN protein_clusters p
ON c.b_number = p.locus_tag
INNER JOIN ecoli_gene_operonset eo
ON c.b_number = eo.b_number
ORDER BY eo.operon_name

SELECT COUNT(*)
FROM ecogene_data e
INNER JOIN ecoli_gene_operonset eo
ON e.b_number = eo.b_number
INNER JOIN protein_clusters p
ON e.b_number = p.locus_tag

SELECT locus_tag, rank, orientation, left_end, right_end, accession_number
FROM coding_sequences
WHERE accession_number = 'NC_012850' AND rank = 4565

# Joining bsub : gene_id etc -> operon_name -> group_cluster
SELECT bsub_gene_operonset.operon_name, c.locus_tag, c.sequence_length, c.rank, c.orientation, c.left_end, c.right_end, g.cluster_accession, g.protein_name
FROM 
(SELECT sequence_id, sequence_length, gene_name, rank, locus_tag, gene_id, orientation, left_end, right_end
FROM bsub_coding_sequences
) c
INNER JOIN bsub_gene_operonset
ON c.gene_name = bsub_gene_operonset.gene_name
INNER JOIN protein_clusters g
ON c.locus_tag = g.locus_tag

SELECT bsub_gene_operonset.operon_name, c.locus_tag, c.sequence_length, c.rank, c.orientation, c.left_end, c.right_end
FROM 
(SELECT sequence_id, sequence_length, gene_name, rank, locus_tag, gene_id, orientation, left_end, right_end
FROM bsub_coding_sequences
) c
INNER JOIN bsub_gene_operonset
ON c.gene_name = bsub_gene_operonset.gene_name

# Joining bsub (of DOOR) locus_tag -> coding_sequences -> group_id
SELECT bsub_locus_operonset_door.operon_name, c.locus_tag, c.sequence_length, c.rank, c.orientation, c.left_end, c.right_end, g.cluster_accession, g.protein_name
FROM 
(SELECT sequence_id, sequence_length, gene_name, rank, locus_tag, gene_id, orientation, left_end, right_end
FROM bsub_coding_sequences
) c
INNER JOIN bsub_locus_operonset_door
ON c.locus_tag = bsub_locus_operonset_door.locus_tag
INNER JOIN protein_clusters g
ON c.locus_tag = g.locus_tag

SELECT bsub_coding_sequences.locus_tag, bsub_coding_sequences.gene_name, bsub_gene_operonset.operon_name
FROM bsub_gene_operonset
INNER JOIN bsub_coding_sequences
ON bsub_gene_operonset.gene_name = bsub_coding_sequences.gene_name
WHERE bsub_gene_operonset.operon_name = 'trpEDCFBA-hisC-tyrA-aroE'

# Joining bsub (of DOOR) locus_tag -> coding_sequences -> group_id
SELECT ecoli_gene_operonset.operon_name, c.locus_tag, c.sequence_length, c.rank, c.orientation, c.left_end, c.right_end, g.group_name
FROM 
(SELECT sequence_id, sequence_length, rank, locus_tag, gene_id, orientation, left_end, right_end
FROM coding_sequences
) c
INNER JOIN ecoli_gene_operonset
ON c.locus_tag = ecoli_gene_operonset.b_number
INNER JOIN ecoli_homolog_group g
ON c.locus_tag = g.locus_tag
